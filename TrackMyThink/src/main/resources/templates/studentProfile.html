<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<main layout:fragment="content">
  <div class="container py-5">
    <div class="card border-0 bg-light rounded-4 shadow-lg px-4 px-md-5 py-4">

      <!-- Profile Header -->
      <div class="d-flex flex-column flex-md-row align-items-center border-bottom pb-4 mb-4 gap-4">
        <!-- Profile Image -->
        <div class="text-center">
          <!-- If profile photo exists -->
         
<div class="text-center">
  <img th:if="${student.profilePhoto != null}" 
       th:src="@{'/student/profile-photo/' + ${student.studentId}}"
       alt="Profile Photo"
       class="rounded-circle border border-4 border-primary shadow"
       style="width: 160px; height: 160px; object-fit: cover;">

  <img th:unless="${student.profilePhoto != null}" 
       th:src="@{/images/default_avthar.jpg}"
       alt="Default Profile Photo"
       class="rounded-circle border border-4 border-primary shadow"
       style="width: 160px; height: 160px; object-fit: cover;">
</div>
          
          
        </div>

        <!-- Basic Info -->
        <div class="flex-grow-1 text-center text-md-start">
          <h2 class="fw-bold text-dark mb-1" th:text="${student.name}">Student Name</h2>
          <p class="text-muted mb-1 fs-6" th:text="${student.email}">email@example.com</p>
          <p class="text-muted fs-6" th:text="${student.contactNumber}">+1234567890</p>
        </div>

        <!-- Edit Button -->
        <div class="text-center text-md-end">
          <a href="/student/updateProfile" class="btn btn-outline-primary rounded-pill px-4 py-2 fw-semibold shadow-sm">
            <i class="bi bi-pencil-square me-2"></i>Edit Profile
          </a>
        </div>
      </div>

      <!-- Profile Details -->
      <div class="row gy-4">
        <!-- Gender -->
        <div class="col-12 col-sm-6">
          <div class="text-muted small mb-1">Gender</div>
          <div class="fw-semibold text-capitalize fs-6 text-dark" th:text="${student.gender}">Gender</div>
        </div>

        <!-- Registration Date -->
        <div class="col-12 col-sm-6">
          <div class="text-muted small mb-1">Registered On</div>
          <div class="fw-semibold fs-6 text-dark" th:text="${#temporals.format(student.registrationDate, 'dd MMM yyyy HH:mm')}">Date</div>
        </div>

        <!-- Address -->
        <div class="col-12">
          <div class="text-muted small mb-1">Address</div>
          <div class="fw-semibold fs-6 text-dark text-break" th:text="${student.address}">Address</div>
        </div>

        <!-- Status -->
        <div class="col-12 col-sm-6">
          <div class="text-muted small mb-1">Account Status</div>
          <span class="badge rounded-pill px-3 py-2 fs-6 fw-semibold d-inline-flex align-items-center gap-1"
                th:classappend="${student.isActive} ? 'bg-success text-white' : 'bg-danger text-white'"
                th:text="${student.isActive ? 'Active' : 'Inactive'}">
          </span>
        </div>
      </div>
    </div>
  </div>
</main>

</html>

